<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
	<title>AngularJS--demo4.3.html</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
</head>
<body>
	<div class="container">
		<div ng-controller="myCtrl">
			rootScope：{{count}}
			<ul>
			<!-- 内链表达式 -->
				<li ng-repeat="i in [1]" ng-controller="myCtrl">
					<button ng-click="$emit('MyEvent')">
						$emit('MyEvent')
					</button>
					<button ng-click="$broadcast('MyEvent')">
						$broadcast('MyEvent')
					</button>
					<hr>
					myEvent:{{count}}
					<ul>
						<li ng-repeat="item in [1,2]" ng-controller="myCtrl">
							leafScope：{{count}}
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
	<script type="text/javascript" src="js/angular.js"></script>
	
	<script type="text/javascript">
        
        function myCtrl($scope){
        	$scope.count=0;
        	$scope.$on("MyEvent",function(){
        		$scope.count++;
        	});
        }
		var myApp=angular.module("myApp",[]);
		myApp.controller("myCtrl",myCtrl);
	</script>
</body>
</html>